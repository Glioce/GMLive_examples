<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-100</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.JN = 0;

//Lista de jugadores.

scr_add_player(obj_J1, "TÃº");
scr_add_player(objPlayerBase, "Jugador 1");
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>SelectIA = 1;
frame = 0;
contador=0;
contadorrev = 60 * 60;
realWidth = 800;
giaPaused = false;
deactivatedInstances = ds_stack_create();
latestSoundDeath = noone;
global.nzonas = 9;

var R;
R = 1;
for (j = 1; j &lt;= global.JN; j += 1)
{
    for (i = 1;i &lt;= global.nzonas;i += 1) {global.J[j, i] = 0;} //Indica el tiempo en cada nivel
    global.J[j, 100] = 0; //Indica la suma de los tiempos en todos los niveles
    global.J[j, 101] = R; R+=1; //Indica la posicion en el ranking;
    global.J[j, 102] = 0; //Indica los puntos;
    global.J[j, 103] = (36 * (global.J[j, 101] - 1)); //Posicion vertical de rank;
}

pr = ds_priority_create();
for(i = 1; i &lt;= global.JN; i += 1)
{
    ds_priority_add(pr, i, global.J[i, 102]);
}

for(i = 1; ds_priority_size(pr) &gt; 0; i += 1)
{
    j = ds_priority_find_max(pr);
    global.J[j, 101] = i;
    ds_priority_delete_max(pr);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (room != Tabla_Participantes)
{
    contador=0;
    contadorrev=60*60; 
    var R;
    R = 0;
    for (i=1;i&lt;=global.JN;i+=1) {if global.J[i,global.nzonas]=-1 {R+=1;}}
    if R=global.JN
    {global.LastLvl=global.Level room_goto(Tabla_Participantes)}
    else
    {
        if global.nzonas=global.Level {global.LastLvl=global.Level room_goto(Tabla_Participantes)}
        else
        {
            //Code Brand
            pr=ds_priority_create()
            for(i=1;i&lt;=global.JN;i+=1)
            {
                ds_priority_add(pr,i,global.J[i,102])
            }

            for(i=1;ds_priority_size(pr) &gt; 0;i+=1)
            {
                j = ds_priority_find_max(pr)
                global.J[j,101] = i
                ds_priority_delete_max(pr)
            }
            
            room_goto_next();
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>frame++
if (frame &gt;= room_speed)
    frame = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (!giaPaused)
{
    contador += 1;
    if (contadorrev == 0)
    {
        for (j = 1;j &lt;= global.JN;j += 1)
        {
            if (global.J[j, global.Level] == 0)
            {
                for (i = 0;i &lt;= global.nzonas - global.Level; i += 1)
                {
                    global.J[j, global.Level + i] = -1;
                }
            }
        }
        
        if (alarm[0] == -1)
            alarm[0] = 60 * 3;
    }
    
    
    for (i = 1; i &lt;= global.nzonas; i += 1)
    {
        if global.Level=i
        {
            var R;
            R = global.JN;
            for (j = 1;j &lt;= global.JN;j += 1)
            {
                if global.J[j, i] != 0
                    R -= 1;
                
                if global.J[j, i] = -1
                {
                    with(global.J[j, 0])
                    {
                        var selectedSound;
                        do
                            selectedSound = choose(soundDead1, soundDead2);
                        until(other.latestSoundDeath != selectedSound)
                        other.latestSoundDeath = selectedSound;
                        audio_play_sound(selectedSound, 1, false);
                        
                        var obj;
                        obj = instance_create(x, y, obj_dummy);
                        obj.sprite_index = sprite_index;
                        obj.vspeed = vspeed;
                        obj.image_xscale = image_xscale;
                        instance_destroy();
                    }
                }
            }
            
            if R=0 {contador=0; contadorrev=0; if alarm[0]=-1 { alarm[0] = 60 * 3; }}
        }
    }
    
    contadorrev -= 1;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*draw_rectangle(obj_Asava.x-4,obj_Asava.y,obj_Asava.x+4,obj_Asava.y-(16*3),true)*/

if (room != Tabla_Participantes)
{
    draw_set_halign(fa_left);
    draw_set_valign(fa_top);
    
    if (alarm[0] != -1)
    {
        var c1, c2;
        c1 = c_black;
        c2 = c_black;
        draw_set_alpha(0.4);
        draw_rectangle_color(view_xview[0], view_yview[0], view_xview[0] + view_wview[0], view_yview[0] + view_hview[0], c1, c1, c2, c2, false);
        draw_set_alpha(1);
        draw_text(room_width/2,room_height/2,"Inventareando Tiempos...");
    }
    
    var i, crev;
    i = SelectIA;
    if contadorrev&gt;=0 {crev=contadorrev} else {crev=0}
    draw_set_font(fontUsefulData);
    draw_set_color(c_white);
    scr_text_rectangle(view_xview[0] + 64, view_yview[0] + 12 + (16 * 0), string("Tiempo: ") + string(round(crev / 60)), c_white, 0.5);
    scr_text_rectangle(view_xview[0] + realWidth - 48, view_yview[0] + 12 + (16 * 0), string("FPS: ") + string(fps), c_white, 0.5);
    
    draw_set_color(make_color_rgb(33, 150, 243));
    draw_set_font(fontScore);
    draw_set_halign(fa_left);
    //draw_text(view_xview[0] + realWidth + 176, view_yview[0] + 12, string("Nivel: "));
    //draw_set_halign(fa_left);
    
    for (j = 1; j &lt;= global.JN; j += 1)
    {
        var stepY;
        stepY = (min(2, abs(global.J[j, 103] - (36 * (global.J[j, 101] - 1))))) * sign((36 * (global.J[j, 101] - 1)) - global.J[j, 103]);
        global.J[j, 103] += stepY;
        
        if (j % 2 == 0)
            draw_set_color(make_color_rgb(16, 29, 37));
        else
            draw_set_color(make_color_rgb(35, 45, 54));
        
        draw_rectangle(view_xview[0] + realWidth + 16, view_yview[0] + 16 + (36 * (j - 1)) + 8, view_xview[0] + realWidth + 336, view_yview[0] + 16 + (36 * (j - 1)) + 8 + 36, 0);
    }
    
    var whiteColor = make_color_rgb(200, 200, 200)
    draw_set_color(whiteColor);
    draw_set_font(fontScoreData);
    draw_set_halign(fa_center);
    draw_text(view_xview[0] + realWidth + 40, view_yview[0] + 3, "NIVEL");
    
    var absoluteWidth = 266, sectionWidth;
    sectionWidth = absoluteWidth / global.Level;
    for (i = 1; i &lt;= global.Level; i += 1)
    {
        draw_set_color(whiteColor);
        draw_text(view_xview[0] + realWidth + 70 + (sectionWidth / 2 * (i - 1)) + ((sectionWidth / 2) * i), view_yview[0] + 3, string(i));
        for (j = 1; j &lt;= global.JN; j += 1)
        {
            var n;
            if (global.J[j, i] &gt;= 0)
                n = round(global.J[j, i] / 60)
            else
                n = global.J[j, i];
            
            if (n == -1) {n = "X" draw_set_color(c_red);}
            draw_text(view_xview[0] + realWidth + 70 + (sectionWidth / 2 * (i - 1)) + ((sectionWidth / 2) * i), view_yview[0] - 4 + 36 + global.J[j, 103], string(n));
        }
    }
    
    
    for (j = 1;j &lt;= global.JN; j += 1)
    {
        draw_set_font(fontScore);
        draw_set_halign(fa_left);
        //Nombre del jugador.
        //draw_text(view_xview[0] + 400, view_yview[0] + 12 + (16 * global.J[j, 101]), string(global.Nombre[j]) + string(": "));
        
        //Tiempo total.
        //draw_text(view_xview[0] + 360, view_yview[0] + 12 + (16 * global.J[j, 101]), string(round(global.J[j, 100] / 60)));
        
        //draw_text(view_xview[0] + 330, view_yview[0] + 12 + (16 * global.J[j, 101]), string(global.J[j, 101]));
        
        if (instance_exists(global.J[j, 0]))
            draw_sprite(global.J[j, 0].sprite_index, 0, view_xview[0] + realWidth + 32, view_yview[0] + 36 + global.J[j, 103]);
        else
            draw_sprite(spr_killed, 0, view_xview[0] + realWidth + 32, view_yview[0] + 36 + global.J[j, 103]);
        
        draw_set_color(whiteColor);
        draw_text(view_xview[0] + realWidth + 24, view_yview[0] + 36 + global.J[j, 103] + 6, string(global.J[j, 102]));
        
        if (instance_exists(global.J[j, 0]))
        {
            var cN;
            if (global.J[j, 101] == 1)
                cN = make_color_rgb(126, 87, 194);
            else
                cN = c_white;
            draw_set_font(fnt_nombres_pj);
            scr_text_rectangle(global.J[j, 0].x, global.J[j, 0].y - 32 - (30 * global.J[j, 101]), string(global.J[j, 101]) + string(". ") + string(global.Nombre[j]), cN, 0.5);
        }
    }
}
else //Para el Room de la Tabla Final
{
    draw_set_valign(fa_center);
    draw_set_font(font1);
    draw_set_color(c_yellow);
    draw_text(64,48,string("Droides"));
    draw_text(208,48,string("Score"));
    draw_set_color(c_white);
    for (j = 1; j &lt;= global.JN; j += 1) {draw_text(64,48+(32*global.J[j,101]),string(global.Nombre[j])+string(": "));}
    for (i = 1; i &lt;= global.LastLvl;i += 1)
    {
        draw_set_font(font1);
        draw_set_halign(fa_center);
        draw_set_color(c_yellow);
        draw_text(248+(48*i),48,string(i));
    }
    
    for (j = 1; j &lt;= global.JN; j += 1)
    {
        draw_set_halign(fa_center);
        draw_set_color(make_color_rgb(240,15,130));
        draw_set_font(font2);
        draw_text(240,48+(32*global.J[j,101]),string(global.J[j,102]));
        for (i = 1; i &lt;= global.LastLvl; i += 1)
        {
            var n;
            draw_set_halign(fa_center);
            draw_set_font(font2);
            draw_set_color(make_color_rgb(0,255,0));
            if global.J[j,i]&gt;=0 {n=global.J[j,i]/30} else {n=global.J[j,i]}
            if n=-1 {n=":x" draw_set_color(c_red);}
            draw_text(248+(48*i),48+(32*global.J[j,101]),string(n)+string("s"));
            draw_set_halign(fa_left);
        }
    }
    
    draw_set_valign(fa_top);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="87">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>contadorrev=30;</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="81">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>contadorrev=30*1000;</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="80">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (alarm[0] == -1)
    scr_pausa();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="76">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.Level ++;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="69">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if room_speed=30 {room_speed=1 exit}
if room_speed=1 {room_speed=30 exit}</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
